http://www.allitebooks.com/modernizing-legacy-applications-in-php/